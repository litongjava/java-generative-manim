## 设计洪水推求：典型过程线选择与计算步骤详解

### 【场景〇：开场与标题】

*   **背景设计与整体氛围**
    *   背景采用从上到下由深蓝 (#000033) 到浅蓝 (#6495ED) 的垂直渐变，模拟水体或天空的意境，营造专业、稳重的视觉氛围。
    *   右上角显示场景编号“00”，采用白色、稍小字号。
*   **主要内容**
    *   屏幕中心靠上位置显示主标题：“设计洪水推求方法”，字体稍大，颜色为白色 (#FFFFFF)，使用 `FadeIn` 效果，持续时间 1.5 秒。
    *   主标题下方显示副标题：“典型过程线选择与计算步骤”，字体稍小，颜色为淡黄色 (#FFFFE0)，使用 `Write` 效果，在主标题完全显示后开始，持续时间 2.5 秒。
*   **相机与过渡效果**
    *   相机保持静态，聚焦于标题文字。
    *   标题动画完成后，画面保持静止 1 秒，然后过渡到下一场景。

---

### 【场景一：典型洪水过程线的条件】

*   **背景与布局**
    *   背景切换为浅灰色 (#EEEEEE)，以突出内容。
    *   右上角显示场景编号“01”。
    *   屏幕布局：上方为问题文本，下方为答案要点（图文结合）。
*   **内容呈现**
    *   **问题文本 (上方)**：
        *   文本内容：“1. 由流量资料推求设计洪水选择的典型洪水过程线应具备什么条件？”
        *   样式：黑色 (#000000) 或深灰色 (#333333)，左对齐，字体大小适中。
        *   动画：使用 `Write` 效果，持续时间 2 秒。
    *   **答案要点 (下方)**：
        *   整体标题：“答案要点：”，使用 `FadeIn` 效果。
        *   **要点 1 (左侧)**：
            *   文本：“峰高量大”
            *   图标/图形：旁边绘制一个简化的洪水过程线（2D 坐标轴，横轴时间 T，纵轴流量 Q），该过程线具有明显的高峰值和较大的曲线下面积。使用蓝色 (#007BFF) 绘制线条，并用阴影或填充 (#ADD8E6) 强调其面积（洪量）。
            *   动画：文本 `FadeIn`，图形 `Create`，同时进行，持续 1.5 秒。高亮显示峰顶 (`Indicate` 或 `Flash`) 和面积 (`ShowCreationThenFadeOut` 填充效果)。
        *   **要点 2 (中间偏左)**：
            *   文本：“具有代表性”
            *   图标/图形：展示 2-3 个不同的历史洪水过程线（灰色细线），然后一个“典型”过程线（蓝色粗线）从中“提取”或“平均”出来的示意动画。
            *   动画：文本 `FadeIn`，图形 `ReplacementTransform` (从多个灰色线条变为一个蓝色线条)，持续 1.5 秒。
        *   **要点 3 (中间偏右)**：
            *   文本：“峰形集中”
            *   图标/图形：绘制两个对比过程线。一个峰形陡峭、集中（蓝色）；另一个峰形平缓、分散（灰色）。用箭头或高亮指示蓝色的集中特性。
            *   动画：文本 `FadeIn`，图形 `Create`，持续 1.5 秒。用 `Indicate` 效果指向蓝色线条的陡峭部分。
        *   **要点 4 (右侧)**：
            *   文本：“洪峰偏后”
            *   图标/图形：绘制一个洪水过程线，其峰值明显出现在整个洪水过程的后半段。用竖直虚线标记过程的中心时间点，并用箭头指示峰顶位于虚线右侧。
            *   动画：文本 `FadeIn`，图形 `Create`，持续 1.5 秒。用 `GrowArrow` 指示峰顶位置相对于中心点偏后。
*   **数学公式**
    *   此场景不涉及复杂的 LaTeX 公式，主要是概念解释和示意图。坐标轴标签可使用 LaTeX 渲染，例如 `MathTex("T")` 和 `MathTex("Q")`。
*   **相机与过渡效果**
    *   相机初始聚焦问题文本，然后向下平移（pan down）约 2 个单位，持续 0.5 秒，将焦点移至下方的答案区域。
    *   在展示每个要点时，相机可以进行轻微的缩放（zoom in 1.1x）和聚焦，突出当前讲解的图文内容，然后复原。
    *   所有要点展示完毕后，停留 1.5 秒，然后过渡。

---

### 【场景二：设计洪水计算步骤 - 概述】

*   **背景与布局**
    *   背景保持浅灰色 (#EEEEEE) 或更换为带有淡淡网格线的背景，暗示计算和分析。
    *   右上角显示场景编号“02”。
    *   屏幕布局：上方为问题文本，下方为步骤列表。
*   **内容呈现**
    *   **问题文本 (上方)**：
        *   文本内容：“2. 试述由流量资料推求设计洪水计算步骤。”
        *   样式：与场景一的问题文本一致。
        *   动画：使用 `Write` 效果，持续时间 2 秒。
    *   **计算步骤 (下方)**：
        *   整体标题：“计算步骤要点：”，使用 `FadeIn` 效果。
        *   步骤列表：使用编号列表 `BulletedList` 或 `NumberedList` 呈现以下 9 个步骤。每个步骤作为列表项独立出现。
            1.  按年最大值法选样
            2.  资料可靠性、一致性、代表性审查
            3.  特大洪水频率处理
            4.  峰、量频率计算
            5.  分析计算安全修正值
            6.  查算设计洪峰和设计洪量
            7.  频率计算成果合理性检验
            8.  选择典型洪水
            9.  同倍比或同频率缩放得出设计洪水过程线
        *   样式：列表项文本颜色为深灰 (#333333)，编号醒目（例如使用蓝色或加粗）。
        *   动画：
            *   列表标题 `FadeIn`。
            *   列表项逐条出现，使用 `AddTextLetterByLetter` 或 `FadeIn`，每条之间间隔 0.5-0.8 秒。
            *   当某一条目出现时，可以用颜色短暂高亮（如背景变浅黄 `YELLOW_E` 一小段时间）或字体加粗 `BOLD`，吸引观众注意力。
*   **数学公式**
    *   此场景主要为文本列表，不涉及具体公式展示。
*   **相机与过渡效果**
    *   相机初始聚焦问题文本，然后向下平移（pan down）约 1.5 个单位，持续 0.5 秒，聚焦于步骤列表区域。
    *   当列表项逐条显示时，相机可以非常缓慢地向下平移，确保当前显示的条目位于屏幕中心区域。
    *   列表完全显示后，停留 2 秒，然后过渡。

---

### 【场景三：可视化步骤概要 - 频率计算与缩放】

*   **背景与布局**
    *   背景更换为一个示意性的数据分析环境，例如带有模糊坐标轴或散点图的浅蓝色背景 (#E0F2F7)。
    *   右上角显示场景编号“03”。
    *   屏幕大致分为左右两部分：左侧展示频率计算概念，右侧展示典型洪水选择与缩放。
*   **内容呈现**
    *   **左侧：频率计算示意 (对应步骤 4, 6)**
        *   显示一个简化的频率曲线（例如 P-III 型曲线的示意形状）。横轴为流量 Q 或洪量 W，纵轴为频率 P 或重现期 T。
        *   在曲线上标记出“设计频率”（例如 P=1%）对应的点，并引出箭头指向对应的“设计洪峰” \(Q_p\) 和“设计洪量” \(W\)。
        *   文本标注：“步骤 4 & 6：频率计算确定设计值”。
        *   动画：`Create` 坐标轴和曲线，`FadeIn` 文本标注，`Dot` 标记设计点，`GrowArrow` 引出设计值 \(Q_p\) 和 \(W\)。标签 \(Q_p\) 和 \(W\) 使用 `MathTex`。
    *   **右侧：典型选择与缩放 (对应步骤 8, 9)**
        *   先显示一个“典型洪水过程线”（蓝色，同场景一的“好”例子），标记为“典型过程线 (未缩放)”。
        *   显示之前计算得到的“设计洪峰” \(Q_p\) 值（例如，一个水平虚线表示其高度）。
        *   动画演示：蓝色典型过程线通过 `Transform` 或 `ApplyMethod(graph.stretch, factor, dim=1)` 进行垂直拉伸（同倍比缩放），使其峰值达到 \(Q_p\) 水平线。变换后的线条变为红色 (#FF0000) 或橙色 (#FFA500)，并标记为“设计洪水过程线”。
        *   文本标注：“步骤 8 & 9：选择典型并缩放至设计值”。
        *   动画：`Create` 典型过程线和设计洪峰线，`FadeIn` 文本标注，`Transform` 或 `ApplyMethod` 执行缩放动画，`Write` 最终标签。
*   **数学公式**
    *   涉及简单符号，使用 LaTeX 渲染：
        *   设计洪峰: \(Q_p\) (`MathTex("Q_p")`)
        *   设计洪量: \(W\) (`MathTex("W")`)
        *   频率: \(P\) (`MathTex("P")`)
        *   重现期: \(T\) (`MathTex("T")`)
*   **相机与过渡效果**
    *   相机先聚焦左侧频率计算部分 (2秒)，然后平移（pan right）到右侧缩放部分 (2秒)。可以使用轻微的旋转（例如 Z 轴旋转 5 度再回正）来增加动态感。
    *   在缩放动画发生时，相机可以轻微拉近（zoom in 1.1x），强调变换过程。
    *   整体展示完成后停留 1.5 秒，然后过渡。

---

### 【场景四：总结与结束】

*   **背景与布局**
    *   背景恢复为开场的深蓝到浅蓝渐变 (#000033 to #6495ED)，或者使用带有水波纹理的动态背景。
    *   右上角显示场景编号“04”。
    *   屏幕中心展示总结性文字。
*   **内容呈现**
    *   标题：“总结回顾”，白色 (#FFFFFF)，`FadeIn` 效果。
    *   下方列出核心要点：
        *   “典型洪水选择标准：峰高量大、代表性、峰形集中、洪峰偏后。” (淡黄色 #FFFFE0，`Write` 效果)
        *   “设计洪水计算流程：数据准备 -> 频率分析 -> 典型选择 -> 过程线缩放。” (淡黄色 #FFFFE0，`Write` 效果，在上一条显示完后出现)
    *   屏幕底部显示结束语：“感谢观看！”，白色 (#FFFFFF)，`FadeIn` 效果。
*   **数学公式**
    *   无。
*   **相机与过渡效果**
    *   相机保持静态，聚焦于总结文字。
    *   所有文字显示完毕后，整体画面可以缓慢缩小（zoom out to 0.9x）或淡出（`FadeOut` 所有元素），持续 2 秒，结束动画。

---

### 【其他整体要求】

*   **统一视觉风格**
    *   全场景均采用高清渲染（例如 `config.pixel_height = 1080`, `config.pixel_width = 1920`）。
    *   字体选择清晰易读的无衬线字体（如思源黑体、Arial）。
    *   色彩方案以蓝色、灰色、白色为主，辅以黄色、橙色、红色作为强调色，保持专业性和一致性。
*   **动画与转场**
    *   各场景之间使用 `FadeOut` 旧场景元素、`FadeIn` 新场景背景的方式进行切换，或直接替换背景和元素，过渡时间控制在 0.5 - 1 秒。
    *   动画节奏适中，确保观众有足够时间阅读文本和理解图形。关键信息（如图形变换、公式出现）应有适当的停顿。
    *   相机运动（平移、缩放）应平滑自然，服务于内容呈现，避免过度晃动。
*   **公式渲染**
    *   虽然本案例中复杂公式不多，但所有数学符号（如 \(Q, T, P, W, Q_p\)）均应使用 `MathTex` 或 `Tex` 命令以 LaTeX 格式渲染，确保排版美观、专业。